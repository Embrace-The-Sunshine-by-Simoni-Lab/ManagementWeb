{"ast":null,"code":"var _jsxFileName = \"/Users/zhaoyuliu/Desktop/matx-pro-3.3.0/src/app/views/ecommerce/ListProductCard.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Card, Button, Icon, Grid } from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addProductToCart, updateCartAmount } from 'app/redux/actions/EcommerceActions';\nimport { Box, styled, useTheme } from '@mui/system';\nimport useAuth from 'app/hooks/useAuth';\nimport Rating from '@mui/lab/Rating';\nimport { AddToCartButton } from 'app/components';\nimport { H5, Paragraph, Span } from 'app/components/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ProductCard = styled(Card)(function () {\n  return {\n    padding: 16,\n    position: 'relative',\n    height: '100% !important',\n    '&:hover': {\n      '& .image-box-overlay': {\n        opacity: 1\n      }\n    }\n  };\n});\nvar IMG = styled('img')(function () {\n  return {\n    width: '100%'\n  };\n});\nvar PriceBox = styled('div')(function () {\n  return {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n});\nvar ImageBox = styled('div')(function () {\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0, 0, 0, 0.74)',\n    zIndex: 2,\n    opacity: 0,\n    transition: 'all 250ms ease-in-out'\n  };\n});\n\nvar ListProductCard = function ListProductCard(_ref) {\n  _s();\n\n  var _cartList$find;\n\n  var product = _ref.product;\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var theme = useTheme();\n\n  var _useSelector = useSelector(function (state) {\n    return state.ecommerce;\n  }),\n      cartList = _useSelector.cartList;\n\n  var dispatch = useDispatch();\n  var amount = (cartList === null || cartList === void 0 ? void 0 : (_cartList$find = cartList.find(function (p) {\n    return p.id === product.id;\n  })) === null || _cartList$find === void 0 ? void 0 : _cartList$find.amount) || 0;\n\n  var handleUpdateCart = function handleUpdateCart(productAmount) {\n    dispatch(updateCartAmount(user.id, product.id, productAmount));\n  };\n\n  var handleAddProduct = function handleAddProduct() {\n    dispatch(addProductToCart(user.id, product.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductCard, {\n    elevation: 3,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        lg: 6,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(PriceBox, {\n          children: [/*#__PURE__*/_jsxDEV(IMG, {\n            src: product.imgUrl,\n            alt: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(ImageBox, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              sx: {\n                background: theme.palette.background.default\n              },\n              onClick: function onClick() {\n                return handleAddProduct(user.id, product.id);\n              },\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                sx: {\n                  mr: 2\n                },\n                children: \"shopping_cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        lg: 6,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        sx: {\n          p: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(H5, {\n          sx: {\n            m: 0,\n            mb: '12px'\n          },\n          children: product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Span, {\n            sx: {\n              color: theme.palette.text.secondary\n            },\n            children: [\"$\", product.price.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Rating, {\n            size: \"small\",\n            readOnly: true,\n            name: \"half-rating\",\n            value: product.rating,\n            precision: 0.5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(AddToCartButton, {\n          propStyle: {\n            mb: 2\n          },\n          amount: amount,\n          totalUnit: product.totalUnit,\n          handleAddProduct: handleAddProduct,\n          handleUpdateCart: handleUpdateCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n          sx: {\n            margin: 0,\n            color: theme.palette.text.secondary\n          },\n          children: product.description.substring(0, 200)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(ListProductCard, \"F6ormHI7Co8kuM10YF12PjjDAWk=\", false, function () {\n  return [useAuth, useTheme, useSelector, useDispatch];\n});\n\n_c = ListProductCard;\nexport default ListProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListProductCard\");","map":{"version":3,"sources":["/Users/zhaoyuliu/Desktop/matx-pro-3.3.0/src/app/views/ecommerce/ListProductCard.jsx"],"names":["React","Card","Button","Icon","Grid","useSelector","useDispatch","addProductToCart","updateCartAmount","Box","styled","useTheme","useAuth","Rating","AddToCartButton","H5","Paragraph","Span","ProductCard","padding","position","height","opacity","IMG","width","PriceBox","display","alignItems","justifyContent","ImageBox","top","bottom","left","right","background","zIndex","transition","ListProductCard","product","user","theme","state","ecommerce","cartList","dispatch","amount","find","p","id","handleUpdateCart","productAmount","handleAddProduct","imgUrl","title","palette","default","mr","m","mb","color","text","secondary","price","toFixed","rating","totalUnit","margin","description","substring"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Card, Button, Icon, Grid } from '@mui/material'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n    addProductToCart,\n    updateCartAmount,\n} from 'app/redux/actions/EcommerceActions'\nimport { Box, styled, useTheme } from '@mui/system'\nimport useAuth from 'app/hooks/useAuth'\nimport Rating from '@mui/lab/Rating'\nimport { AddToCartButton } from 'app/components'\nimport { H5, Paragraph, Span } from 'app/components/Typography'\n\nconst ProductCard = styled(Card)(() => ({\n    padding: 16,\n    position: 'relative',\n    height: '100% !important',\n    '&:hover': {\n        '& .image-box-overlay': {\n            opacity: 1,\n        },\n    },\n}))\n\nconst IMG = styled('img')(() => ({\n    width: '100%'\n}))\n\nconst PriceBox = styled('div')(() => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}))\n\nconst ImageBox = styled('div')(() => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0, 0, 0, 0.74)',\n    zIndex: 2,\n    opacity: 0,\n    transition: 'all 250ms ease-in-out',\n}))\n\nconst ListProductCard = ({ product }) => {\n    const { user } = useAuth()\n    const theme = useTheme()\n    const { cartList } = useSelector((state) => state.ecommerce)\n    const dispatch = useDispatch()\n\n    const amount = cartList?.find((p) => p.id === product.id)?.amount || 0\n    const handleUpdateCart = (productAmount) => {\n        dispatch(updateCartAmount(user.id, product.id, productAmount))\n    }\n    const handleAddProduct = () => {\n        dispatch(addProductToCart(user.id, product.id))\n    }\n\n    return (\n        <ProductCard elevation={3}>\n            <Grid container spacing={2} alignItems=\"center\">\n                <Grid item lg={6} md={6} sm={6} xs={12}>\n                    <PriceBox>\n                        <IMG\n                            src={product.imgUrl}\n                            alt={product.title}\n                        />\n                        <ImageBox>\n                            <Button\n                                variant=\"outlined\"\n                                sx={{ background: theme.palette.background.default }}\n                                onClick={() =>\n                                    handleAddProduct(user.id, product.id)\n                                }\n                            >\n                                <Icon sx={{ mr: 2 }}>shopping_cart</Icon>\n                                <span>Add to cart</span>\n                            </Button>\n                        </ImageBox>\n                    </PriceBox>\n                </Grid>\n                <Grid item lg={6} md={6} sm={6} xs={12} sx={{ p: '12px' }}>\n                    <H5 sx={{ m: 0, mb: '12px' }}>{product.title}</H5>\n                    <Box\n                        mb={2}\n                        display='flex'\n                        justifyContent='space-between'\n                    >\n                        <Span sx={{ color: theme.palette.text.secondary }}>\n                            ${product.price.toFixed(2)}\n                        </Span>\n                        <Rating\n                            size=\"small\"\n                            readOnly={true}\n                            name=\"half-rating\"\n                            value={product.rating}\n                            precision={0.5}\n                        />\n                    </Box>\n                    <AddToCartButton\n                        propStyle={{ mb: 2 }}\n                        amount={amount}\n                        totalUnit={product.totalUnit}\n                        handleAddProduct={handleAddProduct}\n                        handleUpdateCart={handleUpdateCart}\n                    />\n                    <Paragraph\n                        sx={{\n                            margin: 0,\n                            color: theme.palette.text.secondary\n                        }}\n                    >\n                        {product.description.substring(0, 200)}\n                    </Paragraph>\n                </Grid>\n            </Grid>\n        </ProductCard>\n    )\n}\n\nexport default ListProductCard\n"]},"metadata":{},"sourceType":"module"}