{"ast":null,"code":"var _jsxFileName = \"/Users/zhaoyuliu/Desktop/matx-pro-3.3.0/src/app/views/ecommerce/GridProductCard.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Card } from '@mui/material';\nimport useAuth from 'app/hooks/useAuth';\nimport { Box, styled } from '@mui/system';\nimport { H5 } from 'app/components/Typography';\nimport { AddToCartButton } from 'app/components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addProductToCart, updateCartAmount } from 'app/redux/actions/EcommerceActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ProductCard = styled(Card)(function () {\n  return {\n    textAlign: 'center',\n    position: 'relative',\n    height: '100% !important',\n    '&:hover': {\n      '& .image-box-overlay': {\n        opacity: 1\n      }\n    }\n  };\n});\nvar IMG = styled('img')(function () {\n  return {\n    width: '100%'\n  };\n});\nvar PriceBox = styled('div')(function () {\n  return {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n});\nvar Price = styled('div')(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    margin: 0,\n    color: 'white',\n    padding: '8px 24px 8px 24px',\n    fontWeight: '500',\n    position: 'absolute',\n    right: 0,\n    top: 24,\n    borderTopLeftRadius: 26,\n    borderBottomLeftRadius: 26,\n    zIndex: 4,\n    background: theme.palette.primary.main\n  };\n});\nvar ImageBox = styled('div')(function () {\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0, 0, 0, 0.74)',\n    zIndex: 2,\n    opacity: 0,\n    transition: 'all 250ms ease-in-out'\n  };\n});\n\nvar GridProductCard = function GridProductCard(_ref2) {\n  _s();\n\n  var _cartList$find;\n\n  var product = _ref2.product;\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var _useSelector = useSelector(function (state) {\n    return state.ecommerce;\n  }),\n      cartList = _useSelector.cartList;\n\n  var dispatch = useDispatch();\n  var amount = (cartList === null || cartList === void 0 ? void 0 : (_cartList$find = cartList.find(function (p) {\n    return p.id === product.id;\n  })) === null || _cartList$find === void 0 ? void 0 : _cartList$find.amount) || 0;\n\n  var handleUpdateCart = function handleUpdateCart(productAmount) {\n    dispatch(updateCartAmount(user.id, product.id, productAmount));\n  };\n\n  var handleAddProduct = function handleAddProduct() {\n    dispatch(addProductToCart(user.id, product.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductCard, {\n    elevation: 3,\n    children: [/*#__PURE__*/_jsxDEV(PriceBox, {\n      children: [/*#__PURE__*/_jsxDEV(Price, {\n        children: [\"$\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(IMG, {\n        src: product.imgUrl,\n        alt: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(ImageBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(H5, {\n        sx: {\n          m: 0\n        },\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(AddToCartButton, {\n      propStyle: {\n        mb: 2,\n        px: 2,\n        mx: 'auto'\n      },\n      amount: amount,\n      totalUnit: product.totalUnit,\n      handleAddProduct: handleAddProduct,\n      handleUpdateCart: handleUpdateCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(GridProductCard, \"PCAJs5FRYoHAs9W9jpKthLAh2Tg=\", false, function () {\n  return [useAuth, useSelector, useDispatch];\n});\n\n_c = GridProductCard;\nexport default GridProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"GridProductCard\");","map":{"version":3,"sources":["/Users/zhaoyuliu/Desktop/matx-pro-3.3.0/src/app/views/ecommerce/GridProductCard.jsx"],"names":["React","Card","useAuth","Box","styled","H5","AddToCartButton","useSelector","useDispatch","addProductToCart","updateCartAmount","ProductCard","textAlign","position","height","opacity","IMG","width","PriceBox","display","alignItems","justifyContent","Price","theme","margin","color","padding","fontWeight","right","top","borderTopLeftRadius","borderBottomLeftRadius","zIndex","background","palette","primary","main","ImageBox","bottom","left","transition","GridProductCard","product","user","state","ecommerce","cartList","dispatch","amount","find","p","id","handleUpdateCart","productAmount","handleAddProduct","price","imgUrl","title","m","mb","px","mx","totalUnit"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Card } from '@mui/material'\nimport useAuth from 'app/hooks/useAuth'\nimport { Box, styled } from '@mui/system'\nimport { H5 } from 'app/components/Typography'\nimport { AddToCartButton } from 'app/components'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n    addProductToCart,\n    updateCartAmount,\n} from 'app/redux/actions/EcommerceActions'\n\nconst ProductCard = styled(Card)(() => ({\n    textAlign: 'center',\n    position: 'relative',\n    height: '100% !important',\n    '&:hover': {\n        '& .image-box-overlay': {\n            opacity: 1,\n        },\n    },\n}))\n\nconst IMG = styled('img')(() => ({\n    width: '100%'\n}))\n\nconst PriceBox = styled('div')(() => ({\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}))\n\nconst Price = styled('div')(({ theme }) => ({\n    margin: 0,\n    color: 'white',\n    padding: '8px 24px 8px 24px',\n    fontWeight: '500',\n    position: 'absolute',\n    right: 0,\n    top: 24,\n    borderTopLeftRadius: 26,\n    borderBottomLeftRadius: 26,\n    zIndex: 4,\n    background: theme.palette.primary.main\n}))\n\nconst ImageBox = styled('div')(() => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0, 0, 0, 0.74)',\n    zIndex: 2,\n    opacity: 0,\n    transition: 'all 250ms ease-in-out',\n}))\n\nconst GridProductCard = ({ product }) => {\n    const { user } = useAuth()\n    const { cartList } = useSelector((state) => state.ecommerce)\n    const dispatch = useDispatch()\n\n    const amount = cartList?.find((p) => p.id === product.id)?.amount || 0\n\n    const handleUpdateCart = (productAmount) => {\n        dispatch(updateCartAmount(user.id, product.id, productAmount))\n    }\n\n    const handleAddProduct = () => {\n        dispatch(addProductToCart(user.id, product.id))\n    }\n\n    return (\n        <ProductCard elevation={3}>\n            <PriceBox>\n                <Price>\n                    ${product.price}\n                </Price>\n                <IMG\n                    src={product.imgUrl}\n                    alt={product.title}\n                />\n                <ImageBox />\n            </PriceBox>\n            <Box sx={{ p: 3 }}>\n                <H5 sx={{ m: 0 }}>{product.title}</H5>\n            </Box>\n            <AddToCartButton\n                propStyle={{\n                    mb: 2, px: 2,\n                    mx: 'auto',\n                }}\n                amount={amount}\n                totalUnit={product.totalUnit}\n                handleAddProduct={handleAddProduct}\n                handleUpdateCart={handleUpdateCart}\n            />\n        </ProductCard>\n    )\n}\n\nexport default GridProductCard\n"]},"metadata":{},"sourceType":"module"}