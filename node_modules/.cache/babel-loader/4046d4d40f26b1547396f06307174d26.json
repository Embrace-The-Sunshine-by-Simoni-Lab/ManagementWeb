{"ast":null,"code":"import _asyncToGenerator from\"/Users/zhaoyuliu/Desktop/Sunshine/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/zhaoyuliu/Desktop/Sunshine/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/zhaoyuliu/Desktop/Sunshine/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/zhaoyuliu/Desktop/Sunshine/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/zhaoyuliu/Desktop/Sunshine/node_modules/@babel/runtime/regenerator/index.js\";import{Card,Grid,Button,Checkbox,FormControlLabel,CircularProgress}from'@mui/material';import{Box,styled,useTheme}from'@mui/system';import React,{useState}from'react';import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import{useNavigate}from'react-router-dom';import useAuth from'app/hooks/useAuth';import{Paragraph,Span}from'app/components/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FlexBox=styled(Box)(function(){return{display:'flex',alignItems:'center'};});var JustifyBox=styled(FlexBox)(function(){return{justifyContent:'center'};});var ContentBox=styled(JustifyBox)(function(){return{height:'100%',padding:'32px',background:'rgba(0, 0, 0, 0.01)'};});var IMG=styled('img')(function(){return{width:'100%'};});var StyledButton=styled(Button)(function(){return{color:'rgba(0, 0, 0, 0.87)',boxShadow:'0px 5px 5px -3px rgb(0 0 0 / 6%), 0px 8px 10px 1px rgb(0 0 0 / 4%), 0px 3px 14px 2px rgb(0 0 0 / 4%)',backgroundColor:'#e0e0e0','&:hover':{backgroundColor:'#d5d5d5'}};});var RegisterRoot=styled(JustifyBox)(function(_ref){var theme=_ref.theme;return{background:'#1A2038',minHeight:'100vh !important','& .card':{maxWidth:650,borderRadius:12,margin:'1rem'},'& .buttonProgress':{position:'absolute',top:'50%',left:'50%',marginTop:-12,marginLeft:-12},'& .socialButton':{width:'100%','& img':{margin:'0 8px'}},'& .labelLink':{color:theme.palette.primary.main,textDecoration:'underline'}};});var FirebaseRegister=function FirebaseRegister(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useAuth=useAuth(),createUserWithEmailAndPassword=_useAuth.createUserWithEmailAndPassword,signInWithGoogle=_useAuth.signInWithGoogle;var handleChange=function handleChange(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};var handleGoogleRegister=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithGoogle();case 3:navigate('/');_context.next=11;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setMessage(_context.t0.message);setLoading(false);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function handleGoogleRegister(_x){return _ref3.apply(this,arguments);};}();var handleFormSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return createUserWithEmailAndPassword(state.email,state.password);case 4:navigate('/');_context2.next=12;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);setLoading(false);console.log(_context2.t0);setMessage(_context2.t0.message);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function handleFormSubmit(){return _ref4.apply(this,arguments);};}();var email=state.email,password=state.password,agreement=state.agreement;var _useTheme=useTheme(),palette=_useTheme.palette;var textError=palette.error.main;return/*#__PURE__*/_jsx(RegisterRoot,{children:/*#__PURE__*/_jsx(Card,{className:\"card\",children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,lg:5,md:5,sm:5,xs:12,children:/*#__PURE__*/_jsx(ContentBox,{children:/*#__PURE__*/_jsx(IMG,{src:\"/assets/images/illustrations/posting_photo.svg\",alt:\"\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,lg:7,md:7,sm:7,xs:12,children:[/*#__PURE__*/_jsx(Box,{px:4,pt:4,children:/*#__PURE__*/_jsxs(StyledButton,{onClick:handleGoogleRegister,variant:\"contained\",className:\"socialButton\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/assets/images/logos/google.svg\",alt:\"\"}),\"Sign Up With Google\"]})}),/*#__PURE__*/_jsx(Paragraph,{sx:{textAlign:'center'},children:\"Or\"}),/*#__PURE__*/_jsx(Box,{p:4,height:\"100%\",children:/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(TextValidator,{sx:{mb:3,width:'100%'},variant:\"outlined\",size:\"small\",label:\"Email\",onChange:handleChange,type:\"email\",name:\"email\",value:email||'',validators:['required','isEmail'],errorMessages:['this field is required','email is not valid']}),/*#__PURE__*/_jsx(TextValidator,{sx:{mb:'16px',width:'100%'},label:\"Password\",variant:\"outlined\",size:\"small\",onChange:handleChange,name:\"password\",type:\"password\",value:password||'',validators:['required'],errorMessages:['this field is required']}),/*#__PURE__*/_jsx(FormControlLabel,{sx:{mb:'16px'},name:\"agreement\",onChange:function onChange(e){return handleChange({target:{name:'agreement',value:e.target.checked}});},control:/*#__PURE__*/_jsx(Checkbox,{size:\"small\",checked:agreement||false}),label:/*#__PURE__*/_jsxs(_Fragment,{children:[\"I have read and agree to the\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"labelLink\",children:\"terms of service.\"})]})}),message&&/*#__PURE__*/_jsx(Paragraph,{sx:{color:textError},children:message}),/*#__PURE__*/_jsxs(FlexBox,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{position:\"relative\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disabled:loading,type:\"submit\",children:\"Sign Up\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{size:24,className:\"buttonProgress\"})]}),/*#__PURE__*/_jsx(Span,{sx:{mr:1,ml:'20px'},children:\"or\"}),/*#__PURE__*/_jsx(Button,{sx:{textTransform:'capitalize'},onClick:function onClick(){return navigate(\"/session/signin\");},children:\"Sign In\"})]})]})})]})]})})});};export default FirebaseRegister;","map":null,"metadata":{},"sourceType":"module"}