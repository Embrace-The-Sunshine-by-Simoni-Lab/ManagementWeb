{"ast":null,"code":"import _objectSpread from \"/Users/zhaoyuliu/Desktop/matx-basic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/zhaoyuliu/Desktop/matx-basic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/Users/zhaoyuliu/Desktop/matx-basic/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _jsxFileName = \"/Users/zhaoyuliu/Desktop/matx-basic/src/app/views/invoice/InvoiceViewer.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Icon, Button, Divider, Table, TableHead, TableRow, TableCell, TableBody, IconButton } from '@mui/material';\nimport { format } from 'date-fns';\nimport { Box, styled } from '@mui/system';\nimport { getInvoiceById } from './InvoiceService';\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { H5, Paragraph } from 'app/components/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar FlexBox = styled(Box)(function () {\n  return {\n    display: 'flex',\n    justifyContent: 'space-between'\n  };\n});\nvar ButtonBox = styled(FlexBox)(function () {\n  return {\n    paddingLeft: '16px',\n    paddingRight: '16px',\n    marginBottom: '20px',\n    alignItems: 'center',\n    '& button': {\n      fontSize: '13px',\n      textTransform: 'capitalize'\n    }\n  };\n});\nvar TextBox = styled('div')(function () {\n  return {\n    textAlign: 'right',\n    '& h5': {\n      fontWeight: '500',\n      textTransform: 'capitalize'\n    }\n  };\n});\nvar StyledH5 = styled(H5)(function () {\n  return {\n    fontSize: 15,\n    '& span': {\n      fontWeight: 'normal'\n    }\n  };\n});\nvar StyledTable = styled(Table)(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    '& thead': {\n      '& tr': {\n        background: theme.palette.background.default,\n        '& th': {\n          paddingLeft: 0,\n          paddingRight: 0\n        },\n        '& th:first-of-type': _defineProperty({\n          paddingLeft: '24px !important'\n        }, theme.breakpoints.down('sm'), {\n          paddingLeft: '16px !important'\n        })\n      }\n    },\n    '& tbody': {\n      '& tr': {\n        '& td': {\n          paddingLeft: 0,\n          textTransform: 'capitalize'\n        },\n        '& td:first-of-type': _defineProperty({\n          textTransform: 'capitalize',\n          paddingLeft: '24px !important'\n        }, theme.breakpoints.down('sm'), {\n          paddingLeft: '16px !important'\n        })\n      }\n    }\n  };\n});\n\nvar InvoiceViewer = function InvoiceViewer(_ref2) {\n  _s();\n\n  var toggleInvoiceEditor = _ref2.toggleInvoiceEditor;\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    if (id !== 'add') getInvoiceById(id).then(function (res) {\n      setState(_objectSpread({}, res.data));\n    });\n  }, [id]);\n\n  var handlePrint = function handlePrint() {\n    return window.print();\n  };\n\n  var subTotalCost = 0;\n  var orderNo = state.orderNo,\n      buyer = state.buyer,\n      seller = state.seller,\n      _state$item = state.item,\n      invoiceItemList = _state$item === void 0 ? [] : _state$item,\n      status = state.status,\n      vat = state.vat,\n      date = state.date;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    py: 2,\n    className: \"invoice-viewer\",\n    children: [/*#__PURE__*/_jsxDEV(ButtonBox, {\n      className: \"viewer_actions\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/invoice/list\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            children: \"arrow_back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            mr: 2,\n            py: 1\n          },\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: function onClick() {\n            return toggleInvoiceEditor();\n          },\n          children: \"Edit Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            py: 1\n          },\n          onClick: handlePrint,\n          variant: \"contained\",\n          color: \"secondary\",\n          children: \"Print Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"print-area\",\n      children: [/*#__PURE__*/_jsxDEV(FlexBox, {\n        px: 2,\n        mb: 2,\n        className: \"viewer__order-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(StyledH5, {\n            sx: {\n              mb: 1\n            },\n            children: \"Order Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            sx: {\n              mb: 2\n            },\n            children: \"Order Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            children: [\"# \", orderNo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(TextBox, {\n          children: [/*#__PURE__*/_jsxDEV(StyledH5, {\n            sx: {\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Order status: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(StyledH5, {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Order date: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: date ? format(new Date(date).getTime(), 'MMMM dd, yyyy') : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(FlexBox, {\n        px: 2,\n        py: \"20px\",\n        mb: 2,\n        className: \"viewer__billing-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(StyledH5, {\n            sx: {\n              mb: 1\n            },\n            children: \"Bill From\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            sx: {\n              mb: 2\n            },\n            children: seller ? seller.name : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            sx: {\n              whiteSpace: 'pre'\n            },\n            children: seller ? seller.address : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          width: \"100%\",\n          textAlign: \"right\",\n          children: [/*#__PURE__*/_jsxDEV(StyledH5, {\n            sx: {\n              mb: 1\n            },\n            children: \"Bill To\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            sx: {\n              mb: 2\n            },\n            children: buyer ? buyer.name : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n            sx: {\n              whiteSpace: 'pre'\n            },\n            children: buyer ? buyer.address : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(StyledTable, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Item Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Unit Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Unit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Cost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: invoiceItemList.map(function (item, index) {\n            subTotalCost += item.unit * item.price;\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 37\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 37\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 37\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.unit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: item.unit * item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, _this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(FlexBox, {\n        px: 2,\n        sx: {\n          justifyContent: 'flex-end'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            pr: 6,\n            children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n              sx: {\n                my: 2\n              },\n              children: \"Sub Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              sx: {\n                mb: 2\n              },\n              children: \"Vat(%):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Grand Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n              sx: {\n                my: 2\n              },\n              children: subTotalCost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              sx: {\n                mb: 2\n              },\n              children: vat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"$\", subTotalCost += subTotalCost * vat / 100]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(InvoiceViewer, \"PiYNN6kl6+1/sDDZSgX+ZZoGloI=\", false, function () {\n  return [useParams];\n});\n\n_c = InvoiceViewer;\nexport default InvoiceViewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"InvoiceViewer\");","map":{"version":3,"sources":["/Users/zhaoyuliu/Desktop/matx-basic/src/app/views/invoice/InvoiceViewer.jsx"],"names":["Icon","Button","Divider","Table","TableHead","TableRow","TableCell","TableBody","IconButton","format","Box","styled","getInvoiceById","React","useState","useEffect","Link","useParams","H5","Paragraph","FlexBox","display","justifyContent","ButtonBox","paddingLeft","paddingRight","marginBottom","alignItems","fontSize","textTransform","TextBox","textAlign","fontWeight","StyledH5","StyledTable","theme","background","palette","default","breakpoints","down","InvoiceViewer","toggleInvoiceEditor","id","state","setState","then","res","data","handlePrint","window","print","subTotalCost","orderNo","buyer","seller","item","invoiceItemList","status","vat","date","mr","py","mb","Date","getTime","name","whiteSpace","address","map","index","unit","price","my"],"mappings":"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","sourcesContent":["import {\n    Icon,\n    Button,\n    Divider,\n    Table,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n    IconButton,\n} from '@mui/material'\nimport { format } from 'date-fns'\nimport { Box, styled } from '@mui/system'\nimport { getInvoiceById } from './InvoiceService'\nimport React, { useState, useEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { H5, Paragraph } from 'app/components/Typography'\n\nconst FlexBox = styled(Box)(() => ({\n    display: 'flex',\n    justifyContent: 'space-between',\n}))\n\nconst ButtonBox = styled(FlexBox)(() => ({\n    paddingLeft: '16px',\n    paddingRight: '16px',\n    marginBottom: '20px',\n    alignItems: 'center',\n    '& button': {\n        fontSize: '13px',\n        textTransform: 'capitalize',\n    },\n}))\n\nconst TextBox = styled('div')(() => ({\n    textAlign: 'right',\n    '& h5': {\n        fontWeight: '500',\n        textTransform: 'capitalize',\n    },\n}))\n\nconst StyledH5 = styled(H5)(() => ({\n    fontSize: 15,\n    '& span': { fontWeight: 'normal' },\n}))\n\nconst StyledTable = styled(Table)(({ theme }) => ({\n    '& thead': {\n        '& tr': {\n            background: theme.palette.background.default,\n            '& th': {\n                paddingLeft: 0,\n                paddingRight: 0,\n            },\n            '& th:first-of-type': {\n                paddingLeft: '24px !important',\n                [theme.breakpoints.down('sm')]: {\n                    paddingLeft: '16px !important',\n                },\n            },\n        },\n    },\n    '& tbody': {\n        '& tr': {\n            '& td': {\n                paddingLeft: 0,\n                textTransform: 'capitalize',\n            },\n            '& td:first-of-type': {\n                textTransform: 'capitalize',\n                paddingLeft: '24px !important',\n                [theme.breakpoints.down('sm')]: {\n                    paddingLeft: '16px !important',\n                },\n            },\n        },\n    },\n}))\n\nconst InvoiceViewer = ({ toggleInvoiceEditor }) => {\n    const { id } = useParams()\n    const [state, setState] = useState({})\n\n    useEffect(() => {\n        if (id !== 'add')\n            getInvoiceById(id).then((res) => {\n                setState({ ...res.data })\n            })\n    }, [id])\n\n    const handlePrint = () => window.print()\n\n    let subTotalCost = 0\n    let {\n        orderNo,\n        buyer,\n        seller,\n        item: invoiceItemList = [],\n        status,\n        vat,\n        date,\n    } = state\n\n    return (\n        <Box py={2} className=\"invoice-viewer\">\n            <ButtonBox className=\"viewer_actions\">\n                <Link to=\"/invoice/list\">\n                    <IconButton>\n                        <Icon>arrow_back</Icon>\n                    </IconButton>\n                </Link>\n                <div>\n                    <Button\n                        sx={{ mr: 2, py: 1 }}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => toggleInvoiceEditor()}\n                    >\n                        Edit Invoice\n                    </Button>\n                    <Button\n                        sx={{ py: 1 }}\n                        onClick={handlePrint}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                    >\n                        Print Invoice\n                    </Button>\n                </div>\n            </ButtonBox>\n\n            <div id=\"print-area\">\n                <FlexBox px={2} mb={2} className=\"viewer__order-info\">\n                    <div>\n                        <StyledH5 sx={{ mb: 1 }}>Order Info</StyledH5>\n                        <Paragraph sx={{ mb: 2 }}>Order Number</Paragraph>\n                        <Paragraph># {orderNo}</Paragraph>\n                    </div>\n                    <TextBox>\n                        <StyledH5 sx={{ mb: 1 }}>\n                            <strong>Order status: </strong>\n                            <span>{status}</span>\n                        </StyledH5>\n                        <StyledH5>\n                            <strong>Order date: </strong>\n                            <span>\n                                {date\n                                    ? format(\n                                        new Date(date).getTime(),\n                                        'MMMM dd, yyyy'\n                                    )\n                                    : ''}\n                            </span>\n                        </StyledH5>\n                    </TextBox>\n                </FlexBox>\n\n                <Divider />\n\n                <FlexBox\n                    px={2}\n                    py=\"20px\"\n                    mb={2}\n                    className=\"viewer__billing-info\"\n                >\n                    <div>\n                        <StyledH5 sx={{ mb: 1 }}>Bill From</StyledH5>\n                        <Paragraph sx={{ mb: 2 }}>\n                            {seller ? seller.name : null}\n                        </Paragraph>\n                        <Paragraph sx={{ whiteSpace: 'pre' }}>\n                            {seller ? seller.address : null}\n                        </Paragraph>\n                    </div>\n                    <Box width=\"100%\" textAlign=\"right\">\n                        <StyledH5 sx={{ mb: 1 }}>Bill To</StyledH5>\n                        <Paragraph sx={{ mb: 2 }}>\n                            {buyer ? buyer.name : null}\n                        </Paragraph>\n                        <Paragraph sx={{ whiteSpace: 'pre' }}>\n                            {buyer ? buyer.address : null}\n                        </Paragraph>\n                    </Box>\n                    <div />\n                </FlexBox>\n\n                <StyledTable sx={{ mb: 2 }}>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>#</TableCell>\n                            <TableCell>Item Name</TableCell>\n                            <TableCell>Unit Price</TableCell>\n                            <TableCell>Unit</TableCell>\n                            <TableCell>Cost</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {invoiceItemList.map((item, index) => {\n                            subTotalCost += item.unit * item.price\n                            return (\n                                <TableRow key={index}>\n                                    <TableCell align=\"left\">\n                                        {index + 1}\n                                    </TableCell>\n                                    <TableCell align=\"left\">\n                                        {item.name}\n                                    </TableCell>\n                                    <TableCell align=\"left\">\n                                        {item.price}\n                                    </TableCell>\n                                    <TableCell>{item.unit}</TableCell>\n                                    <TableCell>\n                                        {item.unit * item.price}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        })}\n                    </TableBody>\n                </StyledTable>\n\n                <FlexBox px={2} sx={{ justifyContent: 'flex-end' }}>\n                    <Box display=\"flex\">\n                        <Box pr={6}>\n                            <Paragraph sx={{ my: 2 }}>Sub Total:</Paragraph>\n                            <Paragraph sx={{ mb: 2 }}>Vat(%):</Paragraph>\n                            <strong>\n                                <p>Grand Total:</p>\n                            </strong>\n                        </Box>\n                        <div>\n                            <Paragraph sx={{ my: 2 }}>{subTotalCost}</Paragraph>\n                            <Paragraph sx={{ mb: 2 }}>{vat}</Paragraph>\n                            <p>\n                                <strong>\n                                    $\n                                    {\n                                        (subTotalCost +=\n                                            (subTotalCost * vat) / 100)\n                                    }\n                                </strong>\n                            </p>\n                        </div>\n                    </Box>\n                </FlexBox>\n            </div>\n        </Box>\n    )\n}\n\nexport default InvoiceViewer\n"]},"metadata":{},"sourceType":"module"}