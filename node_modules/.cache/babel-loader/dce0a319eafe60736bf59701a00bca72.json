{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _DnDContext = require(\"./DnDContext\");\n\nvar _Selection = _interopRequireWildcard(require(\"../../Selection\"));\n\nvar _TimeGridEvent = _interopRequireDefault(require(\"../../TimeGridEvent\"));\n\nvar _common = require(\"./common\");\n\nvar _NoopWrapper = _interopRequireDefault(require(\"../../NoopWrapper\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar EventContainerWrapper = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(EventContainerWrapper, _React$Component);\n\n  function EventContainerWrapper() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleMove = function (point, bounds) {\n      if (!(0, _common.pointInColumn)(bounds, point)) return _this.reset();\n      var event = _this.context.draggable.dragAndDropAction.event;\n      var _this$props = _this.props,\n          accessors = _this$props.accessors,\n          slotMetrics = _this$props.slotMetrics;\n      var newSlot = slotMetrics.closestSlotFromPoint({\n        y: point.y - _this.eventOffsetTop,\n        x: point.x\n      }, bounds);\n\n      var _eventTimes = (0, _common.eventTimes)(event, accessors, _this.props.localizer),\n          duration = _eventTimes.duration;\n\n      var newEnd = _this.props.localizer.add(newSlot, duration, 'milliseconds');\n\n      _this.update(event, slotMetrics.getRange(newSlot, newEnd, false, true));\n    };\n\n    _this.handleDropFromOutside = function (point, boundaryBox) {\n      var _this$props2 = _this.props,\n          slotMetrics = _this$props2.slotMetrics,\n          resource = _this$props2.resource;\n      var start = slotMetrics.closestSlotFromPoint({\n        y: point.y,\n        x: point.x\n      }, boundaryBox);\n\n      _this.context.draggable.onDropFromOutside({\n        start: start,\n        end: slotMetrics.nextSlot(start),\n        allDay: false,\n        resource: resource\n      });\n    };\n\n    _this._selectable = function () {\n      var wrapper = _this.ref.current;\n      var node = wrapper.children[0];\n      var isBeingDragged = false;\n      var selector = _this._selector = new _Selection.default(function () {\n        return wrapper.closest('.rbc-time-view');\n      });\n      selector.on('beforeSelect', function (point) {\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (!dragAndDropAction.action) return false;\n\n        if (dragAndDropAction.action === 'resize') {\n          return (0, _common.pointInColumn)((0, _Selection.getBoundsForNode)(node), point);\n        }\n\n        var eventNode = (0, _Selection.getEventNodeFromPoint)(node, point);\n        if (!eventNode) return false; // eventOffsetTop is distance from the top of the event to the initial\n        // mouseDown position. We need this later to compute the new top of the\n        // event during move operations, since the final location is really a\n        // delta from this point. note: if we want to DRY this with WeekWrapper,\n        // probably better just to capture the mouseDown point here and do the\n        // placement computation in handleMove()...\n\n        _this.eventOffsetTop = point.y - (0, _Selection.getBoundsForNode)(eventNode).top;\n      });\n      selector.on('selecting', function (box) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (dragAndDropAction.action === 'move') _this.handleMove(box, bounds);\n        if (dragAndDropAction.action === 'resize') _this.handleResize(box, bounds);\n      });\n      selector.on('dropFromOutside', function (point) {\n        if (!_this.context.draggable.onDropFromOutside) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!(0, _common.pointInColumn)(bounds, point)) return;\n\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('dragOver', function (point) {\n        if (!_this.context.draggable.dragFromOutsideItem) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('selectStart', function () {\n        isBeingDragged = true;\n\n        _this.context.draggable.onStart();\n      });\n      selector.on('select', function (point) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        isBeingDragged = false;\n        if (!_this.state.event || !(0, _common.pointInColumn)(bounds, point)) return;\n\n        _this.handleInteractionEnd();\n      });\n      selector.on('click', function () {\n        if (isBeingDragged) _this.reset();\n\n        _this.context.draggable.onEnd(null);\n      });\n      selector.on('reset', function () {\n        _this.reset();\n\n        _this.context.draggable.onEnd(null);\n      });\n    };\n\n    _this.handleInteractionEnd = function () {\n      var resource = _this.props.resource;\n      var event = _this.state.event;\n\n      _this.reset();\n\n      _this.context.draggable.onEnd({\n        start: event.start,\n        end: event.end,\n        resourceId: resource\n      });\n    };\n\n    _this._teardownSelectable = function () {\n      if (!_this._selector) return;\n\n      _this._selector.teardown();\n\n      _this._selector = null;\n    };\n\n    _this.state = {};\n    _this.ref = /*#__PURE__*/_react.default.createRef();\n    return _this;\n  }\n\n  var _proto = EventContainerWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._selectable();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  _proto.reset = function reset() {\n    if (this.state.event) this.setState({\n      event: null,\n      top: null,\n      height: null\n    });\n  };\n\n  _proto.update = function update(event, _ref) {\n    var startDate = _ref.startDate,\n        endDate = _ref.endDate,\n        top = _ref.top,\n        height = _ref.height;\n    var lastEvent = this.state.event;\n\n    if (lastEvent && startDate === lastEvent.start && endDate === lastEvent.end) {\n      return;\n    }\n\n    this.setState({\n      top: top,\n      height: height,\n      event: (0, _extends2.default)({}, event, {\n        start: startDate,\n        end: endDate\n      })\n    });\n  };\n\n  _proto.handleResize = function handleResize(point, bounds) {\n    var _this$props3 = this.props,\n        accessors = _this$props3.accessors,\n        slotMetrics = _this$props3.slotMetrics,\n        localizer = _this$props3.localizer;\n    var _this$context$draggab = this.context.draggable.dragAndDropAction,\n        event = _this$context$draggab.event,\n        direction = _this$context$draggab.direction;\n    var newTime = slotMetrics.closestSlotFromPoint(point, bounds);\n\n    var _eventTimes2 = (0, _common.eventTimes)(event, accessors, localizer),\n        start = _eventTimes2.start,\n        end = _eventTimes2.end;\n\n    if (direction === 'UP') {\n      start = localizer.min(newTime, slotMetrics.closestSlotFromDate(end, -1));\n    } else if (direction === 'DOWN') {\n      end = localizer.max(newTime, slotMetrics.closestSlotFromDate(start));\n    }\n\n    this.update(event, slotMetrics.getRange(start, end));\n  };\n\n  _proto.renderContent = function renderContent() {\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        accessors = _this$props4.accessors,\n        components = _this$props4.components,\n        getters = _this$props4.getters,\n        slotMetrics = _this$props4.slotMetrics,\n        localizer = _this$props4.localizer;\n    var _this$state = this.state,\n        event = _this$state.event,\n        top = _this$state.top,\n        height = _this$state.height;\n    if (!event) return children;\n    var events = children.props.children;\n    var start = event.start,\n        end = event.end;\n    var label;\n    var format = 'eventTimeRangeFormat';\n    var startsBeforeDay = slotMetrics.startsBeforeDay(start);\n    var startsAfterDay = slotMetrics.startsAfterDay(end);\n    if (startsBeforeDay) format = 'eventTimeRangeEndFormat';else if (startsAfterDay) format = 'eventTimeRangeStartFormat';\n    if (startsBeforeDay && startsAfterDay) label = localizer.messages.allDay;else label = localizer.format({\n      start: start,\n      end: end\n    }, format);\n    return /*#__PURE__*/_react.default.cloneElement(children, {\n      children: /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, events, event && /*#__PURE__*/_react.default.createElement(_TimeGridEvent.default, {\n        event: event,\n        label: label,\n        className: \"rbc-addons-dnd-drag-preview\",\n        style: {\n          top: top,\n          height: height,\n          width: 100\n        },\n        getters: getters,\n        components: (0, _extends2.default)({}, components, {\n          eventWrapper: _NoopWrapper.default\n        }),\n        accessors: (0, _extends2.default)({}, accessors, _common.dragAccessors),\n        continuesPrior: startsBeforeDay,\n        continuesAfter: startsAfterDay\n      }))\n    });\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      ref: this.ref\n    }, this.renderContent());\n  };\n\n  return EventContainerWrapper;\n}(_react.default.Component);\n\nEventContainerWrapper.contextType = _DnDContext.DnDContext;\nEventContainerWrapper.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  accessors: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  localizer: _propTypes.default.object.isRequired,\n  slotMetrics: _propTypes.default.object.isRequired,\n  resource: _propTypes.default.any\n} : {};\nvar _default = EventContainerWrapper;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/Users/zhaoyuliu/Desktop/matx-pro-3.3.0/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventContainerWrapper.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_extends2","_inheritsLoose2","_propTypes","_react","_DnDContext","_Selection","_interopRequireWildcard","_TimeGridEvent","_common","_NoopWrapper","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","EventContainerWrapper","_React$Component","_this","_len","arguments","length","args","Array","_key","apply","concat","handleMove","point","bounds","pointInColumn","reset","event","context","draggable","dragAndDropAction","_this$props","props","accessors","slotMetrics","newSlot","closestSlotFromPoint","y","eventOffsetTop","x","_eventTimes","eventTimes","localizer","duration","newEnd","add","update","getRange","handleDropFromOutside","boundaryBox","_this$props2","resource","start","onDropFromOutside","end","nextSlot","allDay","_selectable","wrapper","ref","current","node","children","isBeingDragged","selector","_selector","closest","on","action","getBoundsForNode","eventNode","getEventNodeFromPoint","top","box","handleResize","dragFromOutsideItem","onStart","state","handleInteractionEnd","onEnd","resourceId","_teardownSelectable","teardown","createRef","_proto","componentDidMount","componentWillUnmount","setState","height","_ref","startDate","endDate","lastEvent","_this$props3","_this$context$draggab","direction","newTime","_eventTimes2","min","closestSlotFromDate","max","renderContent","_this$props4","components","getters","_this$state","events","label","format","startsBeforeDay","startsAfterDay","messages","cloneElement","createElement","Fragment","className","style","width","eventWrapper","dragAccessors","continuesPrior","continuesAfter","render","Component","contextType","DnDContext","propTypes","process","env","NODE_ENV","object","isRequired","any","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _DnDContext = require(\"./DnDContext\");\n\nvar _Selection = _interopRequireWildcard(require(\"../../Selection\"));\n\nvar _TimeGridEvent = _interopRequireDefault(require(\"../../TimeGridEvent\"));\n\nvar _common = require(\"./common\");\n\nvar _NoopWrapper = _interopRequireDefault(require(\"../../NoopWrapper\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar EventContainerWrapper = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(EventContainerWrapper, _React$Component);\n\n  function EventContainerWrapper() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleMove = function (point, bounds) {\n      if (!(0, _common.pointInColumn)(bounds, point)) return _this.reset();\n      var event = _this.context.draggable.dragAndDropAction.event;\n      var _this$props = _this.props,\n          accessors = _this$props.accessors,\n          slotMetrics = _this$props.slotMetrics;\n      var newSlot = slotMetrics.closestSlotFromPoint({\n        y: point.y - _this.eventOffsetTop,\n        x: point.x\n      }, bounds);\n\n      var _eventTimes = (0, _common.eventTimes)(event, accessors, _this.props.localizer),\n          duration = _eventTimes.duration;\n\n      var newEnd = _this.props.localizer.add(newSlot, duration, 'milliseconds');\n\n      _this.update(event, slotMetrics.getRange(newSlot, newEnd, false, true));\n    };\n\n    _this.handleDropFromOutside = function (point, boundaryBox) {\n      var _this$props2 = _this.props,\n          slotMetrics = _this$props2.slotMetrics,\n          resource = _this$props2.resource;\n      var start = slotMetrics.closestSlotFromPoint({\n        y: point.y,\n        x: point.x\n      }, boundaryBox);\n\n      _this.context.draggable.onDropFromOutside({\n        start: start,\n        end: slotMetrics.nextSlot(start),\n        allDay: false,\n        resource: resource\n      });\n    };\n\n    _this._selectable = function () {\n      var wrapper = _this.ref.current;\n      var node = wrapper.children[0];\n      var isBeingDragged = false;\n      var selector = _this._selector = new _Selection.default(function () {\n        return wrapper.closest('.rbc-time-view');\n      });\n      selector.on('beforeSelect', function (point) {\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (!dragAndDropAction.action) return false;\n\n        if (dragAndDropAction.action === 'resize') {\n          return (0, _common.pointInColumn)((0, _Selection.getBoundsForNode)(node), point);\n        }\n\n        var eventNode = (0, _Selection.getEventNodeFromPoint)(node, point);\n        if (!eventNode) return false; // eventOffsetTop is distance from the top of the event to the initial\n        // mouseDown position. We need this later to compute the new top of the\n        // event during move operations, since the final location is really a\n        // delta from this point. note: if we want to DRY this with WeekWrapper,\n        // probably better just to capture the mouseDown point here and do the\n        // placement computation in handleMove()...\n\n        _this.eventOffsetTop = point.y - (0, _Selection.getBoundsForNode)(eventNode).top;\n      });\n      selector.on('selecting', function (box) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (dragAndDropAction.action === 'move') _this.handleMove(box, bounds);\n        if (dragAndDropAction.action === 'resize') _this.handleResize(box, bounds);\n      });\n      selector.on('dropFromOutside', function (point) {\n        if (!_this.context.draggable.onDropFromOutside) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!(0, _common.pointInColumn)(bounds, point)) return;\n\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('dragOver', function (point) {\n        if (!_this.context.draggable.dragFromOutsideItem) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('selectStart', function () {\n        isBeingDragged = true;\n\n        _this.context.draggable.onStart();\n      });\n      selector.on('select', function (point) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        isBeingDragged = false;\n        if (!_this.state.event || !(0, _common.pointInColumn)(bounds, point)) return;\n\n        _this.handleInteractionEnd();\n      });\n      selector.on('click', function () {\n        if (isBeingDragged) _this.reset();\n\n        _this.context.draggable.onEnd(null);\n      });\n      selector.on('reset', function () {\n        _this.reset();\n\n        _this.context.draggable.onEnd(null);\n      });\n    };\n\n    _this.handleInteractionEnd = function () {\n      var resource = _this.props.resource;\n      var event = _this.state.event;\n\n      _this.reset();\n\n      _this.context.draggable.onEnd({\n        start: event.start,\n        end: event.end,\n        resourceId: resource\n      });\n    };\n\n    _this._teardownSelectable = function () {\n      if (!_this._selector) return;\n\n      _this._selector.teardown();\n\n      _this._selector = null;\n    };\n\n    _this.state = {};\n    _this.ref = /*#__PURE__*/_react.default.createRef();\n    return _this;\n  }\n\n  var _proto = EventContainerWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._selectable();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  _proto.reset = function reset() {\n    if (this.state.event) this.setState({\n      event: null,\n      top: null,\n      height: null\n    });\n  };\n\n  _proto.update = function update(event, _ref) {\n    var startDate = _ref.startDate,\n        endDate = _ref.endDate,\n        top = _ref.top,\n        height = _ref.height;\n    var lastEvent = this.state.event;\n\n    if (lastEvent && startDate === lastEvent.start && endDate === lastEvent.end) {\n      return;\n    }\n\n    this.setState({\n      top: top,\n      height: height,\n      event: (0, _extends2.default)({}, event, {\n        start: startDate,\n        end: endDate\n      })\n    });\n  };\n\n  _proto.handleResize = function handleResize(point, bounds) {\n    var _this$props3 = this.props,\n        accessors = _this$props3.accessors,\n        slotMetrics = _this$props3.slotMetrics,\n        localizer = _this$props3.localizer;\n    var _this$context$draggab = this.context.draggable.dragAndDropAction,\n        event = _this$context$draggab.event,\n        direction = _this$context$draggab.direction;\n    var newTime = slotMetrics.closestSlotFromPoint(point, bounds);\n\n    var _eventTimes2 = (0, _common.eventTimes)(event, accessors, localizer),\n        start = _eventTimes2.start,\n        end = _eventTimes2.end;\n\n    if (direction === 'UP') {\n      start = localizer.min(newTime, slotMetrics.closestSlotFromDate(end, -1));\n    } else if (direction === 'DOWN') {\n      end = localizer.max(newTime, slotMetrics.closestSlotFromDate(start));\n    }\n\n    this.update(event, slotMetrics.getRange(start, end));\n  };\n\n  _proto.renderContent = function renderContent() {\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        accessors = _this$props4.accessors,\n        components = _this$props4.components,\n        getters = _this$props4.getters,\n        slotMetrics = _this$props4.slotMetrics,\n        localizer = _this$props4.localizer;\n    var _this$state = this.state,\n        event = _this$state.event,\n        top = _this$state.top,\n        height = _this$state.height;\n    if (!event) return children;\n    var events = children.props.children;\n    var start = event.start,\n        end = event.end;\n    var label;\n    var format = 'eventTimeRangeFormat';\n    var startsBeforeDay = slotMetrics.startsBeforeDay(start);\n    var startsAfterDay = slotMetrics.startsAfterDay(end);\n    if (startsBeforeDay) format = 'eventTimeRangeEndFormat';else if (startsAfterDay) format = 'eventTimeRangeStartFormat';\n    if (startsBeforeDay && startsAfterDay) label = localizer.messages.allDay;else label = localizer.format({\n      start: start,\n      end: end\n    }, format);\n    return /*#__PURE__*/_react.default.cloneElement(children, {\n      children: /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, events, event && /*#__PURE__*/_react.default.createElement(_TimeGridEvent.default, {\n        event: event,\n        label: label,\n        className: \"rbc-addons-dnd-drag-preview\",\n        style: {\n          top: top,\n          height: height,\n          width: 100\n        },\n        getters: getters,\n        components: (0, _extends2.default)({}, components, {\n          eventWrapper: _NoopWrapper.default\n        }),\n        accessors: (0, _extends2.default)({}, accessors, _common.dragAccessors),\n        continuesPrior: startsBeforeDay,\n        continuesAfter: startsAfterDay\n      }))\n    });\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      ref: this.ref\n    }, this.renderContent());\n  };\n\n  return EventContainerWrapper;\n}(_react.default.Component);\n\nEventContainerWrapper.contextType = _DnDContext.DnDContext;\nEventContainerWrapper.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  accessors: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  localizer: _propTypes.default.object.isRequired,\n  slotMetrics: _propTypes.default.object.isRequired,\n  resource: _propTypes.default.any\n} : {};\nvar _default = EventContainerWrapper;\nexports.default = _default;\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"script"}